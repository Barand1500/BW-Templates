{# 
    Component: Spinner/Loader
    Variables:
    - variant: 'circle' | 'dots' | 'pulse' | 'bars'
    - size: 'small' | 'medium' | 'large'
    - color: 'primary' | 'white' | 'dark'
#}

<div class="c-spinner c-spinner--{{ variant | default('circle') }} c-spinner--{{ size | default('medium') }} c-spinner--{{ color | default('primary') }}" role="status" aria-label="Loading">
    {% if variant == 'dots' %}
    <div class="c-spinner__dot"></div>
    <div class="c-spinner__dot"></div>
    <div class="c-spinner__dot"></div>
    {% elif variant == 'bars' %}
    <div class="c-spinner__bar"></div>
    <div class="c-spinner__bar"></div>
    <div class="c-spinner__bar"></div>
    <div class="c-spinner__bar"></div>
    {% else %}
    <div class="c-spinner__circle"></div>
    {% endif %}
</div>

<style>
    .c-spinner {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 0.5rem;
    }

    /* Sizes */
    .c-spinner--small {
        --spinner-size: 24px;
    }

    .c-spinner--medium {
        --spinner-size: 40px;
    }

    .c-spinner--large {
        --spinner-size: 64px;
    }

    /* Colors */
    .c-spinner--primary {
        --spinner-color: #007bff;
    }

    .c-spinner--white {
        --spinner-color: #ffffff;
    }

    .c-spinner--dark {
        --spinner-color: #212529;
    }

    /* Circle Spinner */
    .c-spinner--circle .c-spinner__circle {
        width: var(--spinner-size);
        height: var(--spinner-size);
        border: 3px solid rgba(0, 0, 0, 0.1);
        border-top-color: var(--spinner-color);
        border-radius: 50%;
        animation: spinnerRotate 0.8s linear infinite;
    }

    @keyframes spinnerRotate {
        to { transform: rotate(360deg); }
    }

    /* Pulse Spinner */
    .c-spinner--pulse .c-spinner__circle {
        width: var(--spinner-size);
        height: var(--spinner-size);
        background: var(--spinner-color);
        border-radius: 50%;
        animation: spinnerPulse 1.2s ease-in-out infinite;
    }

    @keyframes spinnerPulse {
        0%, 100% { transform: scale(0); opacity: 1; }
        50% { transform: scale(1); opacity: 0.5; }
    }

    /* Dots Spinner */
    .c-spinner--dots .c-spinner__dot {
        width: calc(var(--spinner-size) / 3);
        height: calc(var(--spinner-size) / 3);
        background: var(--spinner-color);
        border-radius: 50%;
        animation: spinnerDots 1.4s ease-in-out infinite both;
    }

    .c-spinner--dots .c-spinner__dot:nth-child(1) {
        animation-delay: -0.32s;
    }

    .c-spinner--dots .c-spinner__dot:nth-child(2) {
        animation-delay: -0.16s;
    }

    @keyframes spinnerDots {
        0%, 80%, 100% { transform: scale(0); }
        40% { transform: scale(1); }
    }

    /* Bars Spinner */
    .c-spinner--bars {
        gap: calc(var(--spinner-size) / 8);
    }

    .c-spinner--bars .c-spinner__bar {
        width: calc(var(--spinner-size) / 6);
        height: var(--spinner-size);
        background: var(--spinner-color);
        animation: spinnerBars 1.2s ease-in-out infinite;
    }

    .c-spinner--bars .c-spinner__bar:nth-child(1) {
        animation-delay: -1.2s;
    }

    .c-spinner--bars .c-spinner__bar:nth-child(2) {
        animation-delay: -1.1s;
    }

    .c-spinner--bars .c-spinner__bar:nth-child(3) {
        animation-delay: -1.0s;
    }

    .c-spinner--bars .c-spinner__bar:nth-child(4) {
        animation-delay: -0.9s;
    }

    @keyframes spinnerBars {
        0%, 40%, 100% { transform: scaleY(0.4); }
        20% { transform: scaleY(1); }
    }
</style>
