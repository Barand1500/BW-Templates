{# 
    Component: Progress Bar
    Variables:
    - value: number (0-100)
    - label: string
    - variant: 'default' | 'striped' | 'animated'
    - color: 'primary' | 'success' | 'warning' | 'error'
#}

<div class="c-progress c-progress--{{ variant | default('default') }}">
    {% if label %}
    <div class="c-progress__label">
        <span>{{ label }}</span>
        <span>{{ value | default(50) }}%</span>
    </div>
    {% endif %}
    <div class="c-progress__track">
        <div class="c-progress__bar c-progress__bar--{{ color | default('primary') }}" 
             role="progressbar"
             aria-valuenow="{{ value | default(50) }}"
             aria-valuemin="0"
             aria-valuemax="100"
             style="width: {{ value | default(50) }}%">
        </div>
    </div>
</div>

<style>
    .c-progress {
        margin-bottom: 1.5rem;
    }

    .c-progress__label {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 0.5rem;
        font-size: 0.95rem;
        font-weight: 600;
        color: #212529;
    }

    .c-progress__track {
        height: 12px;
        background: #e9ecef;
        border-radius: 50px;
        overflow: hidden;
        position: relative;
    }

    .c-progress__bar {
        height: 100%;
        transition: width 0.6s ease;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 50px;
    }

    /* Colors */
    .c-progress__bar--primary {
        background: linear-gradient(90deg, #007bff 0%, #0056b3 100%);
    }

    .c-progress__bar--success {
        background: linear-gradient(90deg, #28a745 0%, #1e7e34 100%);
    }

    .c-progress__bar--warning {
        background: linear-gradient(90deg, #ffc107 0%, #e0a800 100%);
    }

    .c-progress__bar--error {
        background: linear-gradient(90deg, #dc3545 0%, #c82333 100%);
    }

    /* Striped Variant */
    .c-progress--striped .c-progress__bar {
        background-image: linear-gradient(
            45deg,
            rgba(255, 255, 255, 0.15) 25%,
            transparent 25%,
            transparent 50%,
            rgba(255, 255, 255, 0.15) 50%,
            rgba(255, 255, 255, 0.15) 75%,
            transparent 75%,
            transparent
        );
        background-size: 1rem 1rem;
    }

    /* Animated Variant */
    .c-progress--animated .c-progress__bar {
        background-image: linear-gradient(
            45deg,
            rgba(255, 255, 255, 0.15) 25%,
            transparent 25%,
            transparent 50%,
            rgba(255, 255, 255, 0.15) 50%,
            rgba(255, 255, 255, 0.15) 75%,
            transparent 75%,
            transparent
        );
        background-size: 1rem 1rem;
        animation: progressStripes 1s linear infinite;
    }

    @keyframes progressStripes {
        0% { background-position: 1rem 0; }
        100% { background-position: 0 0; }
    }

    /* Large size for label variant */
    .c-progress__label ~ .c-progress__track {
        height: 16px;
    }

    @media (max-width: 768px) {
        .c-progress__label {
            font-size: 0.875rem;
        }
    }
</style>
