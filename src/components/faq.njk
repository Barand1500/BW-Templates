{# 
    Component: FAQ/Accordion
    Variables:
    - title: string
    - items: array of { question: string, answer: string }
    - variant: 'default' | 'boxed' | 'minimal'
#}

<section class="c-faq c-faq--{{ variant | default('default') }}">
    <div class="c-faq__container">
        <h2 class="c-faq__title">{{ title | default("Frequently Asked Questions") }}</h2>
        <div class="c-faq__list">
            {% for item in items | default([
                { question: "What is this component library?", answer: "A collection of reusable Nunjucks components for building static websites quickly." },
                { question: "How do I use it?", answer: "Simply copy the component code and paste it into your project. Customize as needed." },
                { question: "Is it free?", answer: "Yes! This component library is completely free to use in your projects." }
            ]) %}
            <div class="c-faq__item">
                <button class="c-faq__question" onclick="this.parentElement.classList.toggle('is-open')">
                    <span>{{ item.question }}</span>
                    <span class="c-faq__icon">+</span>
                </button>
                <div class="c-faq__answer">
                    <p>{{ item.answer }}</p>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<style>
    .c-faq {
        padding: 5rem 0;
        background: #f8f9fa;
    }

    .c-faq__container {
        max-width: 800px;
        margin: 0 auto;
        padding: 0 1.5rem;
    }

    .c-faq__title {
        text-align: center;
        font-size: 2.5rem;
        font-weight: 800;
        margin-bottom: 3rem;
        color: #212529;
    }

    .c-faq__list {
        display: flex;
        flex-direction: column;
        gap: 1rem;
    }

    .c-faq__item {
        background: white;
        border-radius: 12px;
        overflow: hidden;
        box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        transition: all 0.3s;
    }

    .c-faq__item:hover {
        box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }

    .c-faq__question {
        width: 100%;
        padding: 1.5rem;
        background: transparent;
        border: none;
        text-align: left;
        font-size: 1.125rem;
        font-weight: 600;
        color: #212529;
        cursor: pointer;
        display: flex;
        justify-content: space-between;
        align-items: center;
        transition: background 0.2s;
    }

    .c-faq__question:hover {
        background: #f8f9fa;
    }

    .c-faq__icon {
        font-size: 1.5rem;
        font-weight: 300;
        color: #007bff;
        transition: transform 0.3s;
    }

    .c-faq__item.is-open .c-faq__icon {
        transform: rotate(45deg);
    }

    .c-faq__answer {
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.3s ease-out;
    }

    .c-faq__item.is-open .c-faq__answer {
        max-height: 500px;
    }

    .c-faq__answer p {
        padding: 0 1.5rem 1.5rem 1.5rem;
        color: #6c757d;
        line-height: 1.7;
        margin: 0;
    }

    /* Boxed Variant */
    .c-faq--boxed {
        background: white;
    }

    .c-faq--boxed .c-faq__item {
        border: 2px solid #e9ecef;
    }

    /* Minimal Variant */
    .c-faq--minimal .c-faq__item {
        box-shadow: none;
        border-bottom: 2px solid #e9ecef;
        border-radius: 0;
    }

    .c-faq--minimal .c-faq__item:last-child {
        border-bottom: none;
    }

    @media (max-width: 768px) {
        .c-faq__question {
            font-size: 1rem;
            padding: 1.25rem;
        }
    }
</style>
